
What's the basic model, the hierarchy, what creates what?

device creates queue
send command buffers to the queue

GUESS

device creates buffers and queue
queue creates command buffers
command buffer creates encoders
encoders are the passes
onlhy one pass at a time
device creates pipeline state
the encoder will set the pipeline and its arguments. 
it can use multiple pipelines


command buffer commits itself
enqueue a command buffer using CommandBuffer. also use to check status

CommandQueue -> CommandBuffer -> CommandEncoder

command encoders deal with resources and state

command buffers and encoders are transient. they are lightweight and you can't reuse them.
command buffers are the only independently trackable unit of work. they establish the coherency boundaries of the memory model

commit makes an implied enqueue call if not previously enqueued

an render/compute encoder takes care of a single pass
associated with a pass descriptor
there are resources, and there is pipeline state which is compiled instructions, also there's fixed function state.

can pass command buffers around threads, but only thread per command buffer at a time

usually an entire render frame is encoded into a single command buffer

do pipelines and passes map 1 to 1?



